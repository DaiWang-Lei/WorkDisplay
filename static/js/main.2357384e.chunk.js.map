{"version":3,"sources":["component/Work.module.css","appState.tsx","component/LikeList.tsx","component/AddToLike.tsx","component/WorkCard.tsx","App.tsx","reportWebVitals.ts","index.tsx","component/LikeList.module.css","App.module.css"],"names":["module","exports","defaultContextValue","authorName","shoppingCart","items","appContext","React","createContext","appSetStateContext","undefined","AppStateProvider","children","useState","state","setState","Provider","value","LikeList","props","handleClick","e","target","nodeName","isOpen","this","Consumer","className","styles","cartContainer","button","onClick","length","cartDropDown","style","display","map","item","name","Component","useAddToCart","useContext","id","confetti","width","height","particleCount","startVelocity","spread","WorkCard","introduction","href","addToCart","cardContainer","tagName","window","open","src","alt","App","robotData","count","a","app","appHeader","robotList","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2357384e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardContainer\":\"Work_cardContainer__2kOOt\"};","import React, { useState } from \"react\";\r\n\r\n\r\ninterface AppStateValue {\r\n  authorName: string;\r\n  shoppingCart: { items: { id: number, name: string }[] }\r\n}\r\nconst defaultContextValue: AppStateValue = {\r\n  authorName: \"Robuta\",\r\n  shoppingCart: { items: [] }\r\n};\r\n\r\n\r\nexport const appContext = React.createContext(defaultContextValue);\r\nexport const appSetStateContext = React.createContext<React.Dispatch<React.SetStateAction<AppStateValue>> | undefined>(undefined);\r\n\r\nexport const AppStateProvider: React.FC = ({ children }) => {\r\n  const [state, setState] = useState(defaultContextValue)\r\n  return (\r\n    <appContext.Provider value={state}>\r\n      <appSetStateContext.Provider value={setState}>\r\n        {children}\r\n      </appSetStateContext.Provider>\r\n    </appContext.Provider>\r\n  )\r\n}\r\nexport default AppStateProvider;","import React from \"react\";\r\nimport styles from \"./LikeList.module.css\";\r\nimport { FiShoppingCart } from \"react-icons/fi\";\r\nimport { appContext } from \"../appState\";\r\ninterface Props {}\r\n\r\ninterface State {\r\n  isOpen: boolean;\r\n}\r\n\r\nclass LikeList extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = {\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  handleClick = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n    if ((e.target as HTMLElement).nodeName === \"SPAN\") {\r\n      this.setState({ isOpen: !this.state.isOpen });\r\n    }\r\n  };\r\n  render() {\r\n    const { isOpen } = this.state;\r\n    return (\r\n      <appContext.Consumer>\r\n        {(value) => {\r\n          return (\r\n            <div className={styles.cartContainer}>\r\n              <button className={styles.button} onClick={this.handleClick}>\r\n                <FiShoppingCart />\r\n                <span> 喜欢的作品 {value.shoppingCart.items.length} (件)</span>\r\n              </button>\r\n\r\n              <div className={styles.cartDropDown} style={{ display: isOpen ? \"block\" : \"none\" }}>\r\n                <ul>\r\n                  {value.shoppingCart.items.map((item) => {\r\n                    return <li>{item.name}</li>;\r\n                  })}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          );\r\n        }}\r\n      </appContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LikeList;\r\n","import React, { useContext } from \"react\";\r\nimport { appSetStateContext } from \"../appState\";\r\nimport confetti from \"canvas-confetti\";\r\nexport const useAddToCart = () => {\r\n  const setState = useContext(appSetStateContext);\r\n  const addToCart = (id, name) => {\r\n    if (setState) {\r\n      confetti({\r\n        width: 300,\r\n        height: 300,\r\n        particleCount: 400,\r\n        startVelocity: 50,\r\n        spread: 300,\r\n      });\r\n      setState((state) => {\r\n        return {\r\n          ...state,\r\n          shoppingCart: {\r\n            items: [\r\n              ...state.shoppingCart.items,\r\n              {\r\n                id,\r\n                name,\r\n              },\r\n            ],\r\n          },\r\n        };\r\n      });\r\n    }\r\n  };\r\n  return addToCart;\r\n};\r\nexport default useAddToCart;\r\n","import React, { FC, useContext } from \"react\";\r\nimport styles from \"./Work.module.css\";\r\nimport { appContext } from \"../appState\";\r\nimport { useAddToCart } from \"./AddToLike\";\r\nexport interface WorkProps {\r\n  id: number;\r\n  name: string;\r\n  introduction: string;\r\n  href: string;\r\n}\r\n\r\nconst WorkCard: FC<WorkProps> = (props) => {\r\n  const { id, name, introduction, href, ...restProps } = props;\r\n  const addToCart = useAddToCart();\r\n  // hook 的useContext方式\r\n  const value = useContext(appContext);\r\n  return (\r\n    <div\r\n      className={styles.cardContainer}\r\n      onClick={(e) => {\r\n        // @ts-ignore\r\n        if (e.target.tagName !== \"BUTTON\") {\r\n          debugger;\r\n          window.open(href);\r\n        }\r\n      }}\r\n    >\r\n      <img src={`https://robohash.org/${id}`} alt=\"\" />\r\n      <h2>{name}</h2>\r\n      <p>{introduction}</p>\r\n      <p>author: {value.authorName}</p>\r\n      <button onClick={() => addToCart(id, name)}>(❤ ω ❤)</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WorkCard;\r\n","import React from \"react\";\nimport Axios from \"axios\";\nimport ShoppingCart from \"./component/LikeList\";\n// import logo from \"./assets/icon/logo.svg\";\n// import robotData from './mockData/robots.json';\nimport styles from \"./App.module.css\";\nimport WorkCard from \"./component/WorkCard\";\n\ninterface Props {}\n\ninterface State {\n  robotData: any[];\n  count: number;\n}\n\nclass App extends React.Component<Props, State> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      robotData: [\n        { id: 1, name: \"Robuta-travel\", href: \"https://daiwang-lei.github.io/Robuta-Travel/build/index.html#/\",  introduction: \"基于React的旅游网站\" },\n        { id: 2, name: \"Robuta-Design\", href: \"https://daiwang-lei.github.io/robutaDesign/storybook-static\", introduction: \"NPM上架的React组件库\" },\n        { id: 3, name: \"Robuta-Dumi-Document\", href: \"https://daiwang-lei.github.io/dumiDoc/docs-dist\",introduction: \"基于Dumi的个人博客\" },\n      ],\n      count: 0,\n    };\n  }\n  async componentDidMount() {\n    // const { data } = await Axios({\n    //   url: \"https://jsonplaceholder.typicode.com/users\",\n    // });\n    // this.setState({ robotData: data });\n  }\n  render() {\n    // @ts-ignore\n    const { robotData, count } = this.state;\n    return (\n      <div className={styles.app}>\n        <div className={styles.appHeader}>\n          <h1>Work display</h1>\n        </div>\n        <ShoppingCart />\n        <div className={styles.robotList}>\n          {robotData.map(({ id, name, introduction, href }) => {\n            return <WorkCard id={id} name={name} introduction={introduction} key={id} href={href} />;\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport AppStateProvider from './appState'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppStateProvider>\n      <App />\n    </AppStateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cartContainer\":\"LikeList_cartContainer__YYMg5\",\"cartDropDown\":\"LikeList_cartDropDown__pN9E_\",\"button\":\"LikeList_button__afVHK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3XKRm\",\"appHeader\":\"App_appHeader__3Chv4\",\"appLogo\":\"App_appLogo__GJi2x\",\"App-logo-spin\":\"App_App-logo-spin__33Maa\",\"robotList\":\"App_robotList__WjnSj\"};"],"sourceRoot":""}